{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/phonebook.js","components/Notification.js","App.js","index.js"],"names":["Filter","searchValue","linkHandler","value","onChange","NewContact","name","number","nameHandler","numberHandler","PersonForm","addHandler","onClick","Contact","handleDelete","className","Persons","list","map","person","uuidv4","baseUrl","phonebook","getAll","axios","get","then","response","data","addPerson","obj","post","deletePerson","id","url","delete","status","updatePerson","new_number","a","request","put","Notification","message","style","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","setSearchValue","isSearching","setIsSearching","successMessage","setSuccessMessage","setStyle","successStyle","color","errorStyle","useEffect","phonebookService","entries","contactList","filter","includes","event","target","length","preventDefault","found_person","find","window","confirm","index","findIndex","item","persons_copy","slice","catch","error","newContact","concat","parentNode","childNodes","splice","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.15c1588c.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({searchValue, linkHandler}) => {\n  return (\n    <form>\n      <div>filter shown with \n        <input value={searchValue} onChange={linkHandler}></input>\n      </div>\n    </form>\n  )\n}\n\nexport default Filter;","import React from 'react';\n\nconst PersonForm = ({name, nameHandler, number, numberHandler, addHandler}) => {\n  return (\n    <form> \n      <NewContact name={name} nameHandler={nameHandler} \n        number={number} numberHandler={numberHandler}/>\n      <div><button onClick={addHandler}>add</button></div>\n    </form>\n  )\n}\n\nconst NewContact = ({name, number, nameHandler, numberHandler}) => {\n  return (\n    <div>\n      <div>name: <input value={name} onChange={nameHandler}/></div>\n      <div>number: <input value={number} onChange={numberHandler}/></div>\n    </div>\n  )\n}\n\nexport default PersonForm;","import React from 'react';\nimport { v4 as uuidv4 } from 'uuid';\n\nconst Persons = ({list, handleDelete}) => {\n  return (\n    <div>\n      {list.map((person) => {\n        return <Contact key={uuidv4()}\n                  name={person.name} \n                  number={person.number} \n                  handleDelete={handleDelete}/>\n        })\n      }\n    </div>\n  )\n}\n\nconst Contact = ({name, number, handleDelete}) => {\n  return (\n    <li className=\"person-list\" onClick={handleDelete}>\n      {name} {number} \n      <button>delete</button>\n    </li>\n    \n  )\n}\n\nexport default Persons;","import axios from 'axios';\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  // const request = axios.get(baseUrl)\n  // return request.then(response => response.data)\n  return axios.get(baseUrl).then(response => response.data)\n}\n\nconst addPerson = (obj) => {\n  const request = axios.post(baseUrl, obj)\n  return request.then(response => response.data)\n}\n\nconst deletePerson = (id) => {\n  const url = baseUrl + `/${id}`\n  const request = axios.delete(url)\n  return request.then(response => response.status)\n}\n\nconst updatePerson = async(person, new_number) => {\n  const url = baseUrl + `/${person.id}`\n\n  const data = {\n    name: person.name,\n    number: new_number\n  }\n  const request = axios.put(url, data)\n  return request.then(response => response)\n}\n\nconst phonebook = { getAll, addPerson, deletePerson, updatePerson }\nexport default phonebook","\nconst Notification = ({ message, style }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"success\" style={style}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import React, { useEffect, useState } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport phonebookService from './services/phonebook'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]); \n  const [ newName, setNewName ] = useState('');\n  const [ newNumber, setNewNumber ] = useState('');\n  const [ searchValue, setSearchValue ] = useState('');\n  const [ isSearching, setIsSearching ] = useState(false);\n  const [ successMessage, setSuccessMessage ] = useState(null)\n  const [ style, setStyle] = useState({})\n\n  const successStyle = {\n    color: 'green'\n  }\n\n  const errorStyle = {\n    color: 'red'\n  }\n\n  useEffect(() => {\n    phonebookService\n      .getAll()\n      .then(entries => {\n        setPersons(entries)\n      })\n  }, [])\n\n  const contactList = isSearching\n        ? persons.filter(person => person.name.includes(searchValue))\n        : persons\n\n  const handleAdd = (event) => {\n    event.preventDefault();\n    const found_person = persons.find(person => person.name === newName)\n    if (found_person) {\n      if (window.confirm(`${found_person.name} is already added to phonebook, replace old number with new one?`)) {\n        phonebookService\n          .updatePerson(found_person, newNumber)\n          .then(() => {\n            const index = persons.findIndex(item => item.name === found_person.name)\n            const persons_copy = [\n              ...persons.slice(0, index),\n              { ...found_person, number: newNumber },\n              ...persons.slice(index + 1)\n            ]\n            setPersons(persons_copy)\n            setSuccessMessage(`Changed ${found_person.name}'s number`)\n            setNewName('')\n            setNewNumber('')\n          })\n          .catch(error => {\n            setSuccessMessage(`Information of ${found_person.name} has already been removed from the server`)\n            setStyle(errorStyle)\n          })\n      }\n    } else {\n      const newContact = {\n        name: newName,\n        number: newNumber,\n      };\n      \n      phonebookService\n        .addPerson(newContact)\n        .then(response => {\n          setPersons(persons.concat(newContact))\n          setSuccessMessage(`Added ${newContact.name}`)\n          setStyle(successStyle)\n          setNewName('')\n          setNewNumber('')\n        })\n    }\n  }\n\n  const handleDelete = (event) => {\n    const name = event.target.parentNode.childNodes[0].data\n    const id = event.target.parentNode.id\n    if (name && id && window.confirm(`Delete ${name}?`)) {\n      phonebookService\n        .deletePerson(id)\n        .then(status => {\n          const persons_copy = [...persons]\n          persons_copy.splice(persons_copy.findIndex(person => person.id === id), 1)\n          setPersons(persons_copy)\n        })\n    }\n  }\n\n  const handleFilter = (event) => {\n    event.target.value.length === 0\n      ? setIsSearching(false)\n      : setIsSearching(true);\n    setSearchValue(event.target.value);\n  }\n\n  const handleNewName = (event) => {\n    setNewName(event.target.value);\n  }\n\n  const handleNewNumber = (event) => {\n    setNewNumber(event.target.value);\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={successMessage} style={style}/>\n      <Filter searchValue={searchValue} linkHandler={handleFilter}/>\n      <h2>Add a new</h2>\n      <PersonForm \n        name={newName}\n        nameHandler={handleNewName}\n        number={newNumber}\n        numberHandler={handleNewNumber}\n        addHandler={handleAdd}/>\n      <h2>Numbers</h2>\n      <Persons list={contactList} handleDelete={handleDelete}/>\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}