(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{42:function(e,n,t){},43:function(e,n,t){"use strict";t.r(n);var a=t(18),r=t.n(a),c=t(9),u=t(7),o=t(3),i=t(1),d=t(0),s=function(e){var n=e.searchValue,t=e.linkHandler;return Object(d.jsx)("form",{children:Object(d.jsxs)("div",{children:["filter shown with",Object(d.jsx)("input",{value:n,onChange:t})]})})},l=function(e){var n=e.name,t=e.number,a=e.nameHandler,r=e.numberHandler;return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{children:["name: ",Object(d.jsx)("input",{value:n,onChange:a})]}),Object(d.jsxs)("div",{children:["number: ",Object(d.jsx)("input",{value:t,onChange:r})]})]})},b=function(e){var n=e.name,t=e.nameHandler,a=e.number,r=e.numberHandler,c=e.addHandler;return Object(d.jsxs)("form",{children:[Object(d.jsx)(l,{name:n,nameHandler:t,number:a,numberHandler:r}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{onClick:c,children:"add"})})]})},j=t(45),m=function(e){var n=e.name,t=e.number,a=e.handleDelete;return Object(d.jsxs)("li",{className:"person-list",onClick:a,children:[n," ",t,Object(d.jsx)("button",{children:"delete"})]})},h=function(e){var n=e.list,t=e.handleDelete;return Object(d.jsx)("div",{children:n.map((function(e){return Object(d.jsx)(m,{name:e.name,number:e.number,handleDelete:t},Object(j.a)())}))})},f=t(5),O=t.n(f),v="/api/persons",x={getAll:function(){return O.a.get(v).then((function(e){return e.data}))},addPerson:function(e){return O.a.post(v,e).then((function(e){return e.data}))},deletePerson:function(e){var n=v+"/".concat(e);return O.a.delete(n).then((function(e){return e.status}))},updatePerson:function(e,n){var t=v+"/".concat(e.id),a={name:e.name,number:n};return O.a.put(t,a).then((function(e){return e}))}},p=function(e){var n=e.message,t=e.style;return null===n?null:Object(d.jsx)("div",{className:"success",style:t,children:n})},g=function(){var e=Object(i.useState)([]),n=Object(o.a)(e,2),t=n[0],a=n[1],r=Object(i.useState)(""),l=Object(o.a)(r,2),j=l[0],m=l[1],f=Object(i.useState)(""),O=Object(o.a)(f,2),v=O[0],g=O[1],H=Object(i.useState)(""),w=Object(o.a)(H,2),k=w[0],P=w[1],S=Object(i.useState)(!1),y=Object(o.a)(S,2),C=y[0],D=y[1],N=Object(i.useState)(null),A=Object(o.a)(N,2),I=A[0],E=A[1],J=Object(i.useState)({}),V=Object(o.a)(J,2),B=V[0],q=V[1],z={color:"green"},F={color:"red"};Object(i.useEffect)((function(){x.getAll().then((function(e){a(e)}))}),[]);var G=C?t.filter((function(e){return e.name.includes(k)})):t;return Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Phonebook"}),Object(d.jsx)(p,{message:I,style:B}),Object(d.jsx)(s,{searchValue:k,linkHandler:function(e){0===e.target.value.length?D(!1):D(!0),P(e.target.value)}}),Object(d.jsx)("h2",{children:"Add a new"}),Object(d.jsx)(b,{name:j,nameHandler:function(e){m(e.target.value)},number:v,numberHandler:function(e){g(e.target.value)},addHandler:function(e){e.preventDefault();var n=t.find((function(e){return e.name===j}));if(n)window.confirm("".concat(n.name," is already added to phonebook, replace old number with new one?"))&&x.updatePerson(n,v).then((function(){var e=t.findIndex((function(e){return e.name===n.name})),r=[].concat(Object(u.a)(t.slice(0,e)),[Object(c.a)(Object(c.a)({},n),{},{number:v})],Object(u.a)(t.slice(e+1)));a(r),E("Changed ".concat(n.name,"'s number")),m(""),g("")})).catch((function(e){E("Information of ".concat(n.name," has already been removed from the server")),q(F)}));else{var r={name:j,number:v};x.addPerson(r).then((function(e){a(t.concat(r)),E("Added ".concat(r.name)),q(z),m(""),g("")}))}}}),Object(d.jsx)("h2",{children:"Numbers"}),Object(d.jsx)(h,{list:G,handleDelete:function(e){var n=e.target.parentNode.childNodes[0].data,r=e.target.parentNode.id;n&&r&&window.confirm("Delete ".concat(n,"?"))&&x.deletePerson(r).then((function(e){var n=Object(u.a)(t);n.splice(n.findIndex((function(e){return e.id===r})),1),a(n)}))}})]})};t(42);r.a.render(Object(d.jsx)(g,{}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.9c90b5c5.chunk.js.map